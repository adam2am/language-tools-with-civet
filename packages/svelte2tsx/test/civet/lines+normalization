
> svelte2tsx@0.7.35 test-current /home/user/Documents/repos/ltools-backup/packages/svelte2tsx
> mocha test/test.ts --grep "#current"



  1 - civet: generating source map raw lines #happy #current
Unindented Civet map lines per TS line:
Line 1: [0,0,0,5] [6,0,0,0] [5,0,0,5] [1,0,0,6] [1,0,0,8] [1,0,0,9] [6,0,0,15] [1,0,0,16] [1,0,0,17] [1,0,0,18]
Line 2: [0,0,1,0] [0,0,1,0] [0,0,1,8] [6,0,1,0] [8,0,1,8] [1,0,1,9] [1,0,1,11] [1,0,1,12] [1,0,1,13] [1,0,1,14] [1,0,1,15] [1,0,1,16] [6,0,1,22] [1,0,1,23] [1,0,1,24] [2,0,1,26] [1,0,1,26] [1,0,1,26]
Line 3: [0,0,2,0] [0,0,2,0] [1,0,2,7] [4,0,2,1] [6,0,2,7] [1,0,2,8] [1,0,2,10] [1,0,2,11] [5,0,2,16] [1,0,2,17] [1,0,2,18] [1,0,2,19] [1,0,2,20] [1]
Line 4: [0,0,2,21] [1,0,2,21]
Line 5: [0,0,3,0] [0,0,3,0]
Line 6: [0,0,4,0] [0,0,4,0] [0,0,4,9] [6,0,4,0] [9,0,4,9] [1,0,4,10] [1,0,4,12] [1,0,4,13] [1,0,4,14] [1,0,4,15] [1,0,4,16] [1,0,4,17] [6,0,4,23] [1,0,4,24] [1,0,4,25] [2,0,4,27] [1,0,4,27] [1,0,4,27]
Line 7: [0,0,5,0] [0,0,5,0] [1,0,5,7] [4,0,5,1] [6,0,5,7] [1,0,5,8] [1,0,5,10] [1,0,5,11] [5,0,5,16] [1,0,5,17] [1,0,5,18] [1,0,5,19] [1] [1] [6] [1,0,5,1] [6]
Line 8: [0,0,5,20] [1,0,5,20]
Line 9: [0,0,6,0]
    ✔ handles unindented state and propFunc declarations (87ms)

  2 - normalizeCivetMap = converting lines to v3 (dynamic scenarios) #happy #current
[MAP_TO_V3 test.svelte] Normalizing Civet map. Snippet line offset in Svelte (0-based): 1
[MAP_TO_V3 test.svelte] Final Normalized Civet-Svelte map (first 3 lines of mappings): AACK,MAAL,KAAK,CAAC,CAAE,CAAC,MAAM,CAAC,CAAC,CAAC;AAClB,AAAA,AAAQ,MAAR,QAAQ,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAA,CAAA;AAC1B,AAAA,CAAO,IAAN,MAAM,CAAC,CAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC
Decoded V3 mapping segments per TS line:
Line 1: [0,0,1,5] [6,0,1,0] [11,0,1,5] [12,0,1,6] [13,0,1,8] [14,0,1,9] [20,0,1,15] [21,0,1,16] [22,0,1,17] [23,0,1,18]
Line 2: [0,0,2,0] [0,0,2,0] [0,0,2,8] [6,0,2,0] [14,0,2,8] [15,0,2,9] [16,0,2,11] [17,0,2,12] [18,0,2,13] [19,0,2,14] [20,0,2,15] [21,0,2,16] [27,0,2,22] [28,0,2,23] [29,0,2,24] [31,0,2,26] [32,0,2,26] [33,0,2,26]
Line 3: [0,0,3,0] [0,0,3,0] [1,0,3,7] [5,0,3,1] [11,0,3,7] [12,0,3,8] [13,0,3,10] [14,0,3,11] [19,0,3,16] [20,0,3,17] [21,0,3,18] [22,0,3,19] [23,0,3,20]
Line 4: [0,0,3,21] [1,0,3,21]
Line 5: [0,0,4,0] [0,0,4,0]
Line 6: [0,0,5,0] [0,0,5,0] [0,0,5,9] [6,0,5,0] [15,0,5,9] [16,0,5,10] [17,0,5,12] [18,0,5,13] [19,0,5,14] [20,0,5,15] [21,0,5,16] [22,0,5,17] [28,0,5,23] [29,0,5,24] [30,0,5,25] [32,0,5,27] [33,0,5,27] [34,0,5,27]
Line 7: [0,0,6,0] [0,0,6,0] [1,0,6,7] [5,0,6,1] [11,0,6,7] [12,0,6,8] [13,0,6,10] [14,0,6,11] [19,0,6,16] [20,0,6,17] [21,0,6,18] [22,0,6,19] [23,0,6,1]
Line 8: [0,0,6,20] [1,0,6,20]
Line 9: [0,0,7,0]
    ✔ should map tokens for unindented state and propFunc declarations


  4 passing (176ms)

